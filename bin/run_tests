#!/bin/bash

set -e

test_with_db() {
  echo "Testing with $1"
  DB=$1 bundle exec rake
}

test_with_db "sqlite3"

# Most features should work with MySQL 5.6 but I couldn't properly set it up in test.
# test_with_db "mysql56"

test_with_db "mysql57"

test_with_db "mysql80"

test_with_db "pg12"
